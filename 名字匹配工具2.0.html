<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>名字匹配</title>

</head>
<body>
    <table>
        <tr>
            <td>
                <button onclick="cleardata();">清空</button>
                <label>接龙或任意文本</label><br/>
                <textarea id="text" type="text" style="height:200px;width:300px"></textarea>
            </td>
            <td>
                <button onclick="compare();">比较</button>
            </td>
            <td>
                <button onclick="clearstudents();">清空</button>
                <label>学生姓名（每个学生一行）</label><br/>
                <textarea id="student" type="text" style="height:200px;width:300px">
李明宸
邹熙乐
冉图南
罗钰恒
付泓松
康天乐
张翊辰
刘向阳
杨学程
高卓恒
徐璟钰
蔡尚哲
刘含章
陈濯
陈澄谕
钟豪煊
王可容
张馨云
何芷颜
张芮晴
许艺曦
黎宸悦
肖思妍
曾浠桐
林一珞
林昊扬
曹慧臻
李欣悦
杨帆
温俊烽
                </textarea>
            </td>
        </tr>
    </table>
    <table id="content"></table>  
</body>
<script type="text/javascript">
    function cleardata(){ 
        document.getElementById("text").value ="";
        document.getElementById("content").innerHTML="";
    }

    function clearstudents(){ 
        document.getElementById("student").value ="";
    }

    function compare(){
        // 学生列表，按回车符截取
        let students = document.getElementById("student").value.split("\n");
        // 对比内容
        var text = document.getElementById("text").value;
        //  清空历史对比结果
        var content = document.getElementById("content");
        content.innerHTML="";

        let index = 1;
        students.forEach(stu=>{
            let name = stu.trim();
            if(name == "") return;
            // 添加新行
            var row = content.insertRow();
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            cell1.innerHTML = index++;
            cell2.innerHTML = name;

            // 判断名字是否存在文本中
            let cnt = 0;
            while(true){
                if(text.includes(name)){
                    cnt +=1;
                    text = text.replace(name,"");
                }
                else{
                    break;
                }
            }
            if(cnt==0){
                row.style.backgroundColor = 'red';
            }
            cell3.innerHTML = cnt;
        });
    }
</script>
</html>